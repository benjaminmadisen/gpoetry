<html>
<head>
    <title>GPoeTry</title>
    <link rel="icon" 
        type="image/png" 
        href="{{ url_for('static', filename='favicon.png') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div id="app">
        <div id="content">
            <div id="experiment" v-if="incomplete || review">
                <div id="poem-pair" v-if="poem_ix > -.5">
                    <poem v-for="poem in poem_pair" v-bind:poem="poem"></poem>
                </div>
            </div>
            <div v-else id="results-main">
                <div id="results-text">
                    Correct: <span v-if="!review" v-html="correct"></span>
                    <br>
                    Total: <span v-if="!review" v-html="poem_pairs.length"></span>
                </div>
            </div>
            <div id="start-description" v-if="poem_ix < -.5 && incomplete">
                <div id="start-text">
                    Welcome to GPoeTry, an experiment in the quality of poems generated by AI!
                    <br>
                    <br>
                    To get started, click on the Begin button below.
                    <br>
                    You'll see pairs of poems, one of which is "fake" and one of which is "real".
                    <br>
                    Pick the one you think is human-written - at the end, we'll tell you how you did!
                </div>
            </div>
            <div id="nav-buttons">
                <div id="start-info" v-if="poem_ix < -.5 && incomplete">
                    <button v-on:click="begin()">Begin</button>
                </div>
                <div id="reviewNav" v-if="review">
                    <button v-on:click="if (poem_ix > .5){prevPoem()}" v-bind:class="{possible: poem_ix > .5}"><span class="material-icons md-36">&#xeaa7;</span></button>
                    <button v-on:click="if (poem_pairs.length-1 > poem_ix){nextPoem(-1)}" v-bind:class="{possible: poem_ix < poem_pairs.length-1}"><span class="material-icons md-36">&#xeaaa;</span></button>
                </div>
                <div id="resultsReviewNav"  v-if="!incomplete">
                    <button v-on:click="getPoems()">Reset</button>
                    <button v-if="!review" v-on:click="reviewPicks()">Review</button>
                    <button v-if="review" v-on:click="review=false">Results</button>
                </div>
            </div>
        </div>
        <div id="footer">
            All "real" poems are in the public domain, and come from <a href="https://www.public-domain-poetry.com/">Public Domain Poetry</a>.
            "Fake" poems are static, pre-generated by Ben White using OpenAI's GPT3 API with minimal human guidance.
        </div>
    </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
<script src="{{ url_for('static', filename='script.js') }}"></script>
</html>